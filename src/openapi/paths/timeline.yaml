openapi: 3.0.3
info:
  title: Twitter OpenAPI
  version: 0.0.1

paths:
  /graphql/{pathQueryId}/HomeTimeline:
    get:
      operationId: getHomeTimeline
      description: get tweet list of timeline
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimelineResponse"
      tags:
        - "tweet"

  /graphql/{pathQueryId}/HomeLatestTimeline:
    get:
      operationId: getHomeLatestTimeline
      description: get tweet list of timeline
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimelineResponse"
      tags:
        - "tweet"

  /graphql/{pathQueryId}/ListLatestTweetsTimeline:
    get:
      operationId: getListLatestTweetsTimeline
      description: get tweet list of timeline
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListLatestTweetsTimelineResponse"
      tags:
        - "tweet"

  /graphql/{pathQueryId}/SearchTimeline:
    get:
      operationId: getSearchTimeline
      description: search tweet list. product:[Top, Latest, People, Photos, Videos]
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchTimelineResponse"
      tags:
        - "tweet"

components:
  schemas:
    TimelineResponse:
      required:
        - "data"
      properties:
        data:
          $ref: "#/components/schemas/HomeTimelineResponseData"
        errors:
          type: array
          items:
            $ref: "./../response/error.yaml#/components/schemas/ErrorResponse"

    HomeTimelineResponseData:
      properties:
        home:
          $ref: "#/components/schemas/HomeTimelineHome"

    HomeTimelineHome:
      required:
        - "home_timeline_urt"
      properties:
        home_timeline_urt:
          $ref: "./../schemas/timeline.yaml#/components/schemas/Timeline"

    ListLatestTweetsTimelineResponse:
      required:
        - "data"
      properties:
        data:
          $ref: "#/components/schemas/ListTweetsTimelineData"
        errors:
          type: array
          items:
            $ref: "./../response/error.yaml#/components/schemas/ErrorResponse"

    ListTweetsTimelineData:
      properties:
        list:
          $ref: "#/components/schemas/ListTweetsTimelineList"

    ListTweetsTimelineList:
      required:
        - "tweets_timeline"
      properties:
        tweets_timeline:
          $ref: "#/components/schemas/ListTweetsTimeline"

    ListTweetsTimeline:
      properties:
        timeline:
          $ref: "./../schemas/timeline.yaml#/components/schemas/Timeline"

    SearchTimelineResponse:
      required:
        - "data"
      properties:
        data:
          $ref: "#/components/schemas/SearchTimelineData"
        errors:
          type: array
          items:
            $ref: "./../response/error.yaml#/components/schemas/ErrorResponse"

    SearchTimelineData:
      properties:
        search_by_raw_query:
          $ref: "#/components/schemas/SearchByRawQuery"

    SearchByRawQuery:
      required:
        - "search_timeline"
      properties:
        search_timeline:
          $ref: "#/components/schemas/SearchTimeline"

    SearchTimeline:
      required:
        - "timeline"
      properties:
        timeline:
          $ref: "./../schemas/timeline.yaml#/components/schemas/Timeline"
